<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>çº¿æ®µæ ‘</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #5c6bc0;
            --accent-color: #7e57c2;
            --background: #f8f9fa;
            --card-bg: #ffffff;
            --text: #333333;
            --border: #e0e0e0;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-lg: 0 4px 20px rgba(0,0,0,0.08);
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary-color: #64b5f6;
            --secondary-color: #7986cb;
            --accent-color: #9575cd;
            --background: #121212;
            --card-bg: #1e1e1e;
            --text: #f0f0f0;
            --border: #444444;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.2);
            --shadow-lg: 0 4px 20px rgba(0,0,0,0.3);
        }

        body {
            font-family: 'Microsoft YaHei', -apple-system, BlinkMacSystemFont, sans-serif;
            color: var(--text);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background-color: var(--background);
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            position: relative;
            z-index: 2;
        }

        header {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }

        h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-top: 10px;
        }

        .tab-container {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 2px solid var(--border);
            gap: 5px;
        }

        .tab {
            padding: 16px 24px;
            cursor: pointer;
            background: transparent;
            border: none;
            flex: 1;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text);
            transition: var(--transition);
            border-radius: 10px 10px 0 0;
            position: relative;
        }

        .tab:hover {
            background: rgba(74, 144, 226, 0.1);
        }

        .tab.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-color);
        }

        .content {
            display: none;
            padding: 25px;
            background: var(--card-bg);
            border-radius: 0 0 12px 12px;
            animation: fadeIn 0.5s ease;
            border: 1px solid var(--border);
            border-top: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content.active {
            display: block;
        }

        h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-top: 0;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }

        h3 {
            color: var(--secondary-color);
            font-size: 1.4rem;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        h4 {
            color: var(--accent-color);
            font-size: 1.2rem;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .concept-item {
            background: var(--card-bg);
            padding: 20px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .concept-item:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-3px);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        table, th, td {
            border: 1px solid var(--border);
        }

        th, td {
            padding: 14px;
            text-align: left;
        }

        th {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: rgba(74, 144, 226, 0.03);
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Fira Code', 'Courier New', monospace;
            overflow-x: auto;
            margin: 20px 0;
            line-height: 1.5;
            font-size: 0.95rem;
            box-shadow: var(--shadow-sm);
        }

        .example {
            background: linear-gradient(to right, rgba(74, 144, 226, 0.05), transparent);
            padding: 20px;
            border-left: 5px solid var(--primary-color);
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }

        .example h3 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .return-link {
            display: inline-block;
            margin-bottom: 20px;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 600;
            padding: 0.7rem 1.2rem;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            transition: var(--transition);
            background: transparent;
        }

        .return-link:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .highlight {
            background: #fffacd;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }

        ul, ol {
            padding-left: 25px;
        }

        li {
            margin-bottom: 10px;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .toggle-btn {
            padding: 0.6rem 1.2rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            transition: var(--transition);
            min-height: 44px;
        }

        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }

        .breadcrumb {
            margin-bottom: 20px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }

        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="button-container">
        <button class="toggle-btn" id="themeToggle" onclick="toggleTheme()">ğŸŒ™ åˆ‡æ¢æš—è‰²æ¨¡å¼</button>
        <button class="toggle-btn" onclick="window.location.href='../../learning-path.html'">è¿”å›å­¦ä¹ è·¯å¾„</button>
        <button class="toggle-btn" onclick="window.location.href='../../index.htm'">å›åˆ°é¦–é¡µ</button>
    </div>
    <script>
        function toggleTheme() {
            const body = document.body;
            const button = document.getElementById('themeToggle');
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                button.textContent = 'ğŸŒ™ åˆ‡æ¢æš—è‰²æ¨¡å¼';
            } else {
                body.setAttribute('data-theme', 'dark');
                button.textContent = 'â˜€ï¸ åˆ‡æ¢äº®è‰²æ¨¡å¼';
            }
        }
    </script>

    <div class="container">
        <header>
            <h1>çº¿æ®µæ ‘</h1>
            <p class="subtitle">â€”â€” é«˜æ•ˆå¤„ç†åŒºé—´æŸ¥è¯¢å’ŒåŒºé—´æ›´æ–°çš„æ•°æ®ç»“æ„</p>
        </header>

        <nav class="breadcrumb">
            <a href="../../index.htm">é¦–é¡µ</a> â†’ 
            <a href="../../learning-path.html">å­¦ä¹ è·¯å¾„</a> â†’ 
            çº¿æ®µæ ‘
        </nav>

        <div class="tab-container">
            <button class="tab active" onclick="openTab(event, 'concept')">ğŸ“˜ åŸºæœ¬æ¦‚å¿µ</button>
            <button class="tab" onclick="openTab(event, 'implementation')">ğŸ’» å®ç°åŸç†</button>
            <button class="tab" onclick="openTab(event, 'operations')">âš™ï¸ åŸºæœ¬æ“ä½œ</button>
            <button class="tab" onclick="openTab(event, 'applications')">ğŸ¯ åº”ç”¨åœºæ™¯</button>
            <button class="tab" onclick="openTab(event, 'practice')">ğŸ’ª å®è·µç»ƒä¹ </button>
        </div>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <div id="concept" class="content active">
            <h2>çº¿æ®µæ ‘æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
            
            <div class="concept-item">
                <h3>å®šä¹‰</h3>
                <p>çº¿æ®µæ ‘æ˜¯ä¸€ç§åŸºäºåˆ†æ²»æ€æƒ³çš„äºŒå‰æ ‘ç»“æ„ï¼Œç”¨äºåœ¨åŒºé—´ä¸Šè¿›è¡Œä¿¡æ¯ç»Ÿè®¡ã€‚çº¿æ®µæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ä»£è¡¨ä¸€ä¸ªé—­åŒºé—´ [L,R]ï¼Œå…¶ä¸­å¶å­èŠ‚ç‚¹è¡¨ç¤ºé•¿åº¦ä¸º1çš„å…ƒåŒºé—´ [x,x]ã€‚</p>
                
                <div class="example">
                    <h4>æ ¸å¿ƒç‰¹æ€§</h4>
                    <ul>
                        <li><strong>é«˜æ•ˆæŸ¥è¯¢</strong>ï¼šå¯ä»¥åœ¨ O(log n) æ—¶é—´å†…å®ŒæˆåŒºé—´æŸ¥è¯¢æ“ä½œ</li>
                        <li><strong>çµæ´»æ›´æ–°</strong>ï¼šæ”¯æŒå•ç‚¹æ›´æ–°å’ŒåŒºé—´æ›´æ–°æ“ä½œ</li>
                        <li><strong>å¹¿æ³›åº”ç”¨</strong>ï¼šé€‚ç”¨äºåŒºé—´æœ€å€¼ã€åŒºé—´å’Œç­‰ç»Ÿè®¡é—®é¢˜</li>
                        <li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šéœ€è¦ 2n~4n çš„ç©ºé—´</li>
                    </ul>
                </div>
            </div>
            
            <div class="concept-item">
                <h3>é€‚ç”¨åœºæ™¯</h3>
                <p>å½“ä½ é‡åˆ°ä»¥ä¸‹ç±»å‹çš„é¢˜ç›®æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨çº¿æ®µæ ‘ï¼š</p>
                <ul>
                    <li>å¤šæ¬¡æŸ¥è¯¢æŸä¸ªåŒºé—´çš„å’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰èšåˆä¿¡æ¯</li>
                    <li>éœ€è¦é¢‘ç¹ä¿®æ”¹æ•°ç»„ä¸­æŸä¸ªä½ç½®æˆ–æŸä¸ªåŒºé—´çš„å€¼</li>
                    <li>å¯¹åŒä¸€ä¸ªæ•°ç»„è¿›è¡Œå¤§é‡åŒºé—´æ“ä½œ</li>
                </ul>
            </div>
            
            <div class="concept-item">
                <h3>æ—¶é—´å¤æ‚åº¦å¯¹æ¯”</h3>
                <table>
                    <tr>
                        <th>æ“ä½œç±»å‹</th>
                        <th>æœ´ç´ åšæ³•</th>
                        <th>çº¿æ®µæ ‘</th>
                    </tr>
                    <tr>
                        <td>å•æ¬¡åŒºé—´æŸ¥è¯¢</td>
                        <td>O(n)</td>
                        <td>O(log n)</td>
                    </tr>
                    <tr>
                        <td>å•æ¬¡å•ç‚¹æ›´æ–°</td>
                        <td>O(1)</td>
                        <td>O(log n)</td>
                    </tr>
                    <tr>
                        <td>å•æ¬¡åŒºé—´æ›´æ–°</td>
                        <td>O(n)</td>
                        <td>O(log n)*</td>
                    </tr>
                    <tr>
                        <td>mæ¬¡æ“ä½œæ€»æ—¶é—´</td>
                        <td>O(mn)</td>
                        <td>O(m log n)</td>
                    </tr>
                </table>
                <p>* ä½¿ç”¨æ‡’æƒ°ä¼ æ’­(Lazy Propagation)æŠ€æœ¯</p>
            </div>
        </div>

        <!-- å®ç°åŸç† -->
        <div id="implementation" class="content">
            <h2>çº¿æ®µæ ‘çš„å®ç°åŸç†</h2>
            
            <div class="concept-item">
                <h3>ç»“æ„ç‰¹ç‚¹</h3>
                <p>çº¿æ®µæ ‘æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œå¯¹äºåŒ…å« n ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œçº¿æ®µæ ‘æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p>
                <ul>
                    <li>æ ¹èŠ‚ç‚¹ä»£è¡¨æ•´ä¸ªåŒºé—´ [1,n]</li>
                    <li>æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹ [L,R] éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼š
                        <ul>
                            <li>å·¦å­èŠ‚ç‚¹ä»£è¡¨åŒºé—´ [L,mid]</li>
                            <li>å³å­èŠ‚ç‚¹ä»£è¡¨åŒºé—´ [mid+1,R]</li>
                            <li>å…¶ä¸­ mid = (L+R)/2</li>
                        </ul>
                    </li>
                    <li>å¶å­èŠ‚ç‚¹ä»£è¡¨å•ä¸ªå…ƒç´  [i,i]</li>
                </ul>
                
                <div class="example">
                    <h4>çº¿æ®µæ ‘ç»“æ„ç¤ºæ„å›¾</h4>
                    <p>å¯¹äºæ•°ç»„ [1, 2, 3, 4, 5, 6, 7, 8]ï¼Œå¯¹åº”çš„çº¿æ®µæ ‘ç»“æ„å¦‚ä¸‹ï¼š</p>
                    <pre>
                              [1,8]
                             /      \
                         [1,4]      [5,8]
                        /    \      /    \
                     [1,2]  [3,4] [5,6] [7,8]
                     /  \   /  \  /  \   /  \
                   [1] [2] [3] [4][5] [6] [7] [8]
                    </pre>
                </div>
            </div>
            
            <div class="concept-item">
                <h3>èŠ‚ç‚¹å­˜å‚¨æ–¹å¼</h3>
                <p>çº¿æ®µæ ‘é€šå¸¸ä½¿ç”¨æ•°ç»„å­˜å‚¨ï¼Œå¯¹äºèŠ‚ç‚¹ iï¼š</p>
                <ul>
                    <li>çˆ¶èŠ‚ç‚¹ï¼ši/2 (å‘ä¸‹å–æ•´)</li>
                    <li>å·¦å­èŠ‚ç‚¹ï¼š2*i</li>
                    <li>å³å­èŠ‚ç‚¹ï¼š2*i+1</li>
                </ul>
                <p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬é€šå¸¸å¼€ 4n å¤§å°çš„æ•°ç»„æ¥å­˜å‚¨çº¿æ®µæ ‘ã€‚</p>
            </div>
            
            <div class="concept-item">
                <h3>å»ºæ ‘è¿‡ç¨‹</h3>
                <p>å»ºæ ‘æ˜¯ä¸€ä¸ªè‡ªé¡¶å‘ä¸‹çš„é€’å½’è¿‡ç¨‹ï¼š</p>
                <ol>
                    <li>å¦‚æœå½“å‰èŠ‚ç‚¹å¯¹åº”åŒºé—´åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™ç›´æ¥èµ‹å€¼</li>
                    <li>å¦åˆ™ï¼Œé€’å½’æ„å»ºå·¦å³å­æ ‘</li>
                    <li>å½“å‰èŠ‚ç‚¹çš„å€¼ç­‰äºå·¦å³å­èŠ‚ç‚¹å€¼çš„æŸç§èšåˆæ“ä½œï¼ˆå¦‚æ±‚å’Œã€æ±‚æœ€å€¼ç­‰ï¼‰</li>
                </ol>
            </div>
        </div>

        <!-- åŸºæœ¬æ“ä½œ -->
        <div id="operations" class="content">
            <h2>çº¿æ®µæ ‘çš„åŸºæœ¬æ“ä½œ</h2>
            
            <div class="concept-item">
                <h3>1. å•ç‚¹æ›´æ–°</h3>
                <p>å°†æ•°ç»„ä¸­æŸä¸ªä½ç½®çš„å€¼ä¿®æ”¹ä¸ºæ–°å€¼ï¼š</p>
                <div class="code-block">
                    // å•ç‚¹æ›´æ–°ï¼šå°†ä½ç½® pos çš„å€¼æ›´æ–°ä¸º val<br>
                    void update(int node, int start, int end, int pos, int val) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if (start == end) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// å¶å­èŠ‚ç‚¹ï¼Œç›´æ¥æ›´æ–°<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree[node] = val;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;} else {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int mid = (start + end) / 2;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (pos &lt;= mid) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// åœ¨å·¦å­æ ‘ä¸­<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update(2*node, start, mid, pos, val);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// åœ¨å³å­æ ‘ä¸­<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update(2*node+1, mid+1, end, pos, val);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// æ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree[node] = tree[2*node] + tree[2*node+1];<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    }
                </div>
            </div>
            
            <div class="concept-item">
                <h3>2. åŒºé—´æŸ¥è¯¢</h3>
                <p>æŸ¥è¯¢æ•°ç»„ä¸­æŸä¸ªåŒºé—´ [L,R] çš„èšåˆå€¼ï¼ˆå¦‚åŒºé—´å’Œï¼‰ï¼š</p>
                <div class="code-block">
                    // æŸ¥è¯¢åŒºé—´ [L,R] çš„å’Œ<br>
                    int query(int node, int start, int end, int L, int R) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if (R &lt; start || L &gt; end) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// æ— äº¤é›†<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if (L &lt;= start && end &lt;= R) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// å®Œå…¨åŒ…å«<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return tree[node];<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;// éƒ¨åˆ†ç›¸äº¤ï¼Œé€’å½’æŸ¥è¯¢<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;int mid = (start + end) / 2;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;int left_sum = query(2*node, start, mid, L, R);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;int right_sum = query(2*node+1, mid+1, end, L, R);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return left_sum + right_sum;<br>
                    }
                </div>
            </div>
            
            <div class="concept-item">
                <h3>3. åŒºé—´æ›´æ–°ï¼ˆæ‡’æƒ°ä¼ æ’­ï¼‰</h3>
                <p>å¯¹åŒºé—´ [L,R] å†…çš„æ‰€æœ‰å…ƒç´ æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼ˆå¦‚åŠ ä¸ŠæŸä¸ªå€¼ï¼‰ï¼š</p>
                <div class="code-block">
                    // æ‡’æƒ°æ ‡è®°æ•°ç»„<br>
                    int lazy[MAXN*4];<br>
                    <br>
                    // åŒºé—´æ›´æ–°ï¼šç»™åŒºé—´ [L,R] ä¸­çš„æ¯ä¸ªå…ƒç´ åŠ ä¸Š val<br>
                    void update_range(int node, int start, int end, int L, int R, int val) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if (lazy[node] != 0) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// å°†æ‡’æƒ°æ ‡è®°ä¸‹ä¼ <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree[node] += (end - start + 1) * lazy[node];<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (start != end) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy[2*node] += lazy[node];<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy[2*node+1] += lazy[node];<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy[node] = 0;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if (start &gt; R || end &lt; L) return; // æ— äº¤é›†<br>
                    <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if (start &gt;= L && end &lt;= R) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// å®Œå…¨åŒ…å«<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree[node] += (end - start + 1) * val;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (start != end) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy[2*node] += val;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy[2*node+1] += val;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;// éƒ¨åˆ†ç›¸äº¤ï¼Œé€’å½’å¤„ç†<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;int mid = (start + end) / 2;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;update_range(2*node, start, mid, L, R, val);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;update_range(2*node+1, mid+1, end, L, R, val);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;tree[node] = tree[2*node] + tree[2*node+1];<br>
                    }
                </div>
            </div>
        </div>

        <!-- åº”ç”¨åœºæ™¯ -->
        <div id="applications" class="content">
            <h2>çº¿æ®µæ ‘çš„åº”ç”¨åœºæ™¯</h2>
            
            <div class="concept-item">
                <h3>å¸¸è§é—®é¢˜ç±»å‹</h3>
                <p>çº¿æ®µæ ‘ç‰¹åˆ«é€‚åˆè§£å†³ä»¥ä¸‹å‡ ç±»é—®é¢˜ï¼š</p>
                <div class="example">
                    <h4>1. åŒºé—´æœ€å€¼æŸ¥è¯¢(RMQ)</h4>
                    <p>åœ¨æ•°ç»„ä¸­å¤šæ¬¡æŸ¥è¯¢æŸä¸ªåŒºé—´çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼</p>
                    <p>ç¤ºä¾‹ï¼šç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå¤šæ¬¡è¯¢é—®æŸä¸ªåŒºé—´å†…çš„æœ€å¤§å€¼</p>
                    
                    <h4>2. åŒºé—´å’ŒæŸ¥è¯¢</h4>
                    <p>åœ¨æ•°ç»„ä¸­å¤šæ¬¡æŸ¥è¯¢æŸä¸ªåŒºé—´çš„å…ƒç´ å’Œï¼ŒåŒæ—¶å¯èƒ½ä¿®æ”¹æŸäº›å…ƒç´ </p>
                    <p>ç¤ºä¾‹ï¼šç»´æŠ¤ä¸€ä¸ªåºåˆ—ï¼Œæ”¯æŒå•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æ±‚å’Œ</p>
                    
                    <h4>3. åŒºé—´ä¿®æ”¹</h4>
                    <p>å¯¹æ•°ç»„çš„ä¸€ä¸ªåŒºé—´å†…æ‰€æœ‰å…ƒç´ åŒæ—¶è¿›è¡ŒæŸç§æ“ä½œ</p>
                    <p>ç¤ºä¾‹ï¼šç»™åŒºé—´å†…æ‰€æœ‰å…ƒç´ åŠ ä¸Šä¸€ä¸ªå€¼ï¼Œæˆ–è€…å°†åŒºé—´å†…æ‰€æœ‰å…ƒç´ æ”¹ä¸ºæŸä¸ªå€¼</p>
                    
                    <h4>4. ç¦»æ•£åŒ–+åæ ‡å‹ç¼©</h4>
                    <p>å¤„ç†å€¼åŸŸå¾ˆå¤§çš„é—®é¢˜æ—¶ï¼Œé€šè¿‡ç¦»æ•£åŒ–å°†å¤§å€¼æ˜ å°„åˆ°è¾ƒå°èŒƒå›´</p>
                    <p>ç¤ºä¾‹ï¼šåœ¨å¾ˆå¤§èŒƒå›´å†…çš„ç‚¹ä¸Šè¿›è¡ŒåŒºé—´æ“ä½œ</p>
                </div>
            </div>
            
            <div class="concept-item">
                <h3>å…¸å‹é¢˜ç›®</h3>
                <ul>
                    <li><strong>åŒºé—´å’Œé—®é¢˜</strong>ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ”¯æŒå•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æ±‚å’Œ</li>
                    <li><strong>åŒºé—´æœ€å€¼é—®é¢˜</strong>ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ”¯æŒå•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æœ€å¤§/æœ€å°å€¼æŸ¥è¯¢</li>
                    <li><strong>åŒºé—´æŸ“è‰²é—®é¢˜</strong>ï¼šç»´æŠ¤ä¸€ä¸ªåºåˆ—çš„é¢œè‰²ï¼Œæ”¯æŒåŒºé—´æŸ“è‰²å’ŒæŸ¥è¯¢åŒºé—´é¢œè‰²ç§æ•°</li>
                    <li><strong>é€†åºå¯¹è®¡æ•°</strong>ï¼šç»“åˆç¦»æ•£åŒ–ï¼Œä½¿ç”¨çº¿æ®µæ ‘ç»Ÿè®¡é€†åºå¯¹æ•°é‡</li>
                    <li><strong>äºŒç»´æ“ä½œ</strong>ï¼šç»“åˆæ‰«æçº¿ç®—æ³•å¤„ç†äºŒç»´å¹³é¢é—®é¢˜</li>
                </ul>
            </div>
        </div>

        <!-- å®è·µç»ƒä¹  -->
        <div id="practice" class="content">
            <h2>å®è·µç»ƒä¹ </h2>
            
            <div class="concept-item">
                <h3>ç»ƒä¹ 1ï¼šåŒºé—´å’Œé—®é¢˜</h3>
                <div class="example">
                    <h4>é¢˜ç›®æè¿°</h4>
                    <p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œåˆå§‹å€¼éƒ½ä¸º 0ï¼Œç°åœ¨è¦æ‰§è¡Œ m æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œæœ‰ä¸¤ç§ç±»å‹ï¼š</p>
                    <ol>
                        <li>1 x yï¼šå°†ç¬¬ x ä¸ªæ•°åŠ ä¸Š y</li>
                        <li>2 l rï¼šæŸ¥è¯¢åŒºé—´ [l,r] çš„å’Œ</li>
                    </ol>
                    
                    <h4>è¾“å…¥æ ¼å¼</h4>
                    <p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mï¼Œåˆ†åˆ«è¡¨ç¤ºæ•°ç»„é•¿åº¦å’Œæ“ä½œæ¬¡æ•°ã€‚<br>
                    æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œã€‚</p>
                    
                    <h4>è¾“å‡ºæ ¼å¼</h4>
                    <p>å¯¹äºæ¯ä¸ªç±»å‹ 2 çš„æ“ä½œï¼Œè¾“å‡ºä¸€è¡Œè¡¨ç¤ºåŒºé—´å’Œã€‚</p>
                    
                    <h4>å‚è€ƒä»£ç </h4>
                    <div class="code-block">
                        #include &lt;iostream&gt;<br>
                        using namespace std;<br>
                        <br>
                        const int MAXN = 100005;<br>
                        long long tree[MAXN*4];<br>
                        <br>
                        void update(int node, int start, int end, int idx, long long val) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;if (start == end) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree[node] += val;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;} else {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int mid = (start + end) / 2;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (idx &lt;= mid)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update(2*node, start, mid, idx, val);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update(2*node+1, mid+1, end, idx, val);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree[node] = tree[2*node] + tree[2*node+1];<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        }<br>
                        <br>
                        long long query(int node, int start, int end, int L, int R) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;if (R &lt; start || L &gt; end)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;if (L &lt;= start && end &lt;= R)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return tree[node];<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;int mid = (start + end) / 2;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return query(2*node, start, mid, L, R) +<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query(2*node+1, mid+1, end, L, R);<br>
                        }<br>
                        <br>
                        int main() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;int n, m;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;cin &gt;&gt; n &gt;&gt; m;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;for (int i = 0; i &lt; m; i++) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int op;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin &gt;&gt; op;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (op == 1) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int x, y;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin &gt;&gt; x &gt;&gt; y;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update(1, 1, n, x, y);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int l, r;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin &gt;&gt; l &gt;&gt; r;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout &lt;&lt; query(1, 1, n, l, r) &lt;&lt; endl;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return 0;<br>
                        }
                    </div>
                </div>
            </div>
            
            <div class="concept-item">
                <h3>ç»ƒä¹ 2ï¼šåŒºé—´æœ€å€¼é—®é¢˜</h3>
                <div class="example">
                    <h4>é¢˜ç›®æè¿°</h4>
                    <p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œåˆå§‹å€¼éƒ½ä¸º 0ï¼Œç°åœ¨è¦æ‰§è¡Œ m æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œæœ‰ä¸¤ç§ç±»å‹ï¼š</p>
                    <ol>
                        <li>1 x yï¼šå°†ç¬¬ x ä¸ªæ•°ä¿®æ”¹ä¸º y</li>
                        <li>2 l rï¼šæŸ¥è¯¢åŒºé—´ [l,r] çš„æœ€å¤§å€¼</li>
                    </ol>
                    
                    <h4>æç¤º</h4>
                    <p>è¿™é“é¢˜çš„å…³é”®åœ¨äºå°†çº¿æ®µæ ‘çš„èšåˆæ“ä½œä»æ±‚å’Œæ”¹ä¸ºæ±‚æœ€å¤§å€¼ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ ‡ç­¾é¡µåˆ‡æ¢åŠŸèƒ½
        function openTab(evt, tabName) {
            const tabs = document.getElementsByClassName("tab");
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].className = tabs[i].className.replace(" active", "");
            }

            const contents = document.getElementsByClassName("content");
            for (let i = 0; i < contents.length; i++) {
                contents[i].className = contents[i].className.replace(" active", "");
            }

            evt.currentTarget.className += " active";
            document.getElementById(tabName).className += " active";
        }
    </script>

</body>
</html>